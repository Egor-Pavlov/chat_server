# Back-end многопоточного чата
Проект является мини лабораторной работой по изучению многопоточности и взаимодействия с сетью
## Main.java
Класс содержит подключение к порту, прослушивание и обработку входящих сообщений в отдельных потоках с помощью Threads
## ClientHandler.java
Наследуется от runnable для запуска в отдельном потоке, не возвращает результат работы. Обрабатывает полученные сообщения, записывает сообщения в БД в формате
```sql
MariaDB [chat]> select * from messages;
+----+-----------+---------+---------------------+
| id | username  | message | timestamp           |
+----+-----------+---------+---------------------+
|  1 | user1     | test    | 2024-07-10 09:11:01 |
|  2 | user2     | prikol  | 2024-07-10 09:11:26 |
+----+-----------+---------+---------------------+
```
Пример получаемого сообщения: `user1:test`
Полученное сообщение рассылается всем подключенным клиентам (даже отправителю)
## Схема БД
Схема описана в файле /src/schema.sql
```sql
CREATE TABLE messages (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(255) NOT NULL,
    message TEXT NOT NULL,
    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

```
## Клиентская часть описана в проекте chat_client 
https://github.com/Egor-Pavlov/chat_client
